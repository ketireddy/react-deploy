(this.webpackJsonpmock_dnb_requests=this.webpackJsonpmock_dnb_requests||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a,r,s,i,o,c,d=n(1),A=n.n(d),l=n(27),h=n.n(l),u=n(9),m=n(10),j=n(12),p=n(11),b=n(8),g=n(17),f=n(34),x=n(2),O=["component"],w=function(e){var t=e.component,n=Object(f.a)(e,O);return Object(x.jsx)(b.c,Object(g.a)(Object(g.a)({},n),{},{render:function(e){return localStorage.getItem("user")?Object(x.jsx)(t,Object(g.a)({},e)):Object(x.jsx)(b.b,{to:{pathname:"/login",state:{from:e.location}}})}}))},v=n(6),C=n(7),y=n.p+"static/media/D&B.b05e2af4.jpeg",S=C.a.div(a||(a=Object(v.a)(["\n    height: 38px;\n    width: 100%;\n    padding: 8px;\n    color: #ffffff;\n    border-radius: 2px;\n    align-items: center;\n    display: flex;\n    background: linear-gradient( -180deg,rgb(31,79,128) 0%,rgb(20,68,115) 100% );\n"]))),k=C.a.div(r||(r=Object(v.a)(["\n    height: 118px;\n    width: 100%;\n    padding: 8px;\n    display: flex;\n"]))),I=C.a.div(s||(s=Object(v.a)(["\n    height: 28px;\n    width: 100%;\n    padding: 8px;\n    display: flex;\n    justify-content: end;\n    color: #4983d9; \n"]))),N=C.a.div(i||(i=Object(v.a)(["\n    height: 200px;\n    width: 15%;\n    margin-left: 6.5em;\n    margin-top: 6em;\n    border: 0;\n    border-radius: 2px;\n    box-shadow: 0 1px 2px 0 rgb(9 30 66 / 25%);\n"]))),Q=C.a.div(o||(o=Object(v.a)(["\n    border: solid #4983d9; ;\n    border-width: 0 2.5px 2.5px 0;\n    display: inline-block;\n    padding: 3px;\n    transform: rotate(-45deg);\n    -webkit-transform: rotate(-45deg);\n    margin-top: 6px;\n    margin-right: 1.5em;\n    margin-left: 0.5em;\n"]))),E=C.a.img(c||(c=Object(v.a)(["\n        display: flex;\n        height: 28px;\n        border-radius: 17px;\n        width: 28px;\n        margin-right: 6px;\n"]))),D=function(){return Object(x.jsxs)(N,{children:[Object(x.jsxs)(S,{children:[Object(x.jsx)(E,{src:y}),"D&B Rev.Up Now"]}),Object(x.jsx)(k,{children:"D&B Rev.Up Now"}),Object(x.jsxs)(I,{onClick:function(){return"2"},children:[Object(x.jsx)("a",{href:"https://bme-fe.zetaglobal.net/signin",children:"Launch"}),Object(x.jsx)(Q,{})]})]})};function B(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.authdata?{Authorization:"Basic "+e.authdata}:{}}var J={login:function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("/users/authenticate",n).then(G).then((function(n){return n&&(n.authdata=window.btoa(e+":"+t),localStorage.setItem("user",JSON.stringify(n))),n}))},logout:M,getAll:function(){var e={method:"GET",headers:B()};return fetch("/users",e).then(G)}};function M(){localStorage.removeItem("user")}function G(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&M();var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}))}n(45),C.a.div(U||(U=Object(v.a)(["\n        margin-left: 4em;\n"])));var U,K,P,Y,H,R,z=C.a.div(K||(K=Object(v.a)(["\n        height: 48px;\n        width: 100%;\n        padding: 8px;\n        display: flex;\n"]))),T=C.a.div(P||(P=Object(v.a)(["\n \n"]))),F=C.a.div(Y||(Y=Object(v.a)(["\n        height: 48px;\n        width: 100%;\n        padding: 8px;\n        display: flex;\n        background: #4983d9; \n        padding-left: 7em;\n        padding-top: 14px;\n        color: #ffffff;\n"]))),W=C.a.div(H||(H=Object(v.a)(["\n        display: flex;\n        margin-right: 2em;\n        padding-top: 0.5em;\n        position: absolute;\n        right: 0;\n"]))),L=C.a.img(R||(R=Object(v.a)(["\n        display: flex;\n        margin-left: 6.5em;\n        padding-top: 0.5em;\n        height: 30px;\n        width: 30px;\n"]))),V=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={user:{},users:[]},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({user:JSON.parse(localStorage.getItem("user")),users:{loading:!0}}),J.getAll().then((function(t){return e.setState({users:t})}))}},{key:"render",value:function(){var e=this.state;e.user,e.users;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(z,{children:[Object(x.jsx)(L,{src:y}),Object(x.jsx)(W,{children:Object(x.jsx)("a",{children:Object(x.jsx)("svg",{class:"Icons__StyledGlobalIcon-bEnuem cxqDSs",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",children:Object(x.jsx)("path",{d:"M17.54 14A3.77 3.77 0 0 1 20 17.5v2.08a.42.42 0 0 1-.42.42H.42a.42.42 0 0 1-.42-.42V17.5A3.77 3.77 0 0 1 2.43 14l4.45-1.34a4.34 4.34 0 0 1-1.45-2.72 1.59 1.59 0 0 1-1-1.6 2.11 2.11 0 0 1 .13-.72l-.43-3C4.08.71 7.82 0 10 0s5.92.69 5.83 4.63l-.44 3a2.12 2.12 0 0 1 .13.72 1.59 1.59 0 0 1-1 1.6 4.33 4.33 0 0 1-1.44 2.7zM10 13.33c1.12 0 3.75-1.58 3.75-3.75a.42.42 0 0 1 .42-.42c.41 0 .52-.55.52-.83s-.11-.83-.52-.83a.42.42 0 0 1-.41-.33l-.35-1.75c-2.19-.06-3-.68-3.41-1.33-.45.65-1.22 1.27-3.41 1.33l-.35 1.75a.42.42 0 0 1-.41.33c-.41 0-.52.55-.52.83s.11.83.52.83a.42.42 0 0 1 .42.42c0 2.17 2.63 3.75 3.75 3.75z"})})})})]}),Object(x.jsxs)(T,{children:[Object(x.jsx)(F,{children:"Welcome, Dnb!"}),Object(x.jsx)(D,{})]})]})}}]),n}(A.a.Component),q=n(15),Z=n(13),_=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),a=t.call(this,e),J.logout(),a.state={username:"",password:"",submitted:!1,loading:!1,error:""},a.handleChange=a.handleChange.bind(Object(Z.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(Z.a)(a)),a}return Object(m.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(q.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var n=this.state,a=n.username,r=n.password;n.returnUrl;a&&r&&(this.setState({loading:!0}),J.login(a,r).then((function(e){var n=(t.props.location.state||{from:{pathname:"/"}}).from;t.props.history.push(n)}),(function(e){return t.setState({error:e,loading:!1})})))}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.submitted,r=e.loading,s=e.error;return Object(x.jsxs)("div",{className:"col-md-6 col-md-offset-3",children:[Object(x.jsx)("h2",{children:"Login"}),Object(x.jsxs)("form",{name:"form",onSubmit:this.handleSubmit,children:[Object(x.jsxs)("div",{className:"form-group"+(a&&!t?" has-error":""),children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)("input",{type:"text",className:"form-control",name:"username",value:t,onChange:this.handleChange}),a&&!t&&Object(x.jsx)("div",{className:"help-block",children:"Username is required"})]}),Object(x.jsxs)("div",{className:"form-group"+(a&&!n?" has-error":""),children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",name:"password",value:n,onChange:this.handleChange}),a&&!n&&Object(x.jsx)("div",{className:"help-block",children:"Password is required"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("button",{className:"btn btn-primary",disabled:r,children:"Login"}),r&&Object(x.jsx)("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})]}),s&&Object(x.jsx)("div",{className:"alert alert-danger",children:s})]})]})}}]),n}(A.a.Component),X=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"start",children:Object(x.jsx)(b.a,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(w,{exact:!0,path:"/",component:V}),Object(x.jsx)(b.c,{path:"/login",component:_})]})})})}}]),n}(A.a.Component);!function(){var e=[{id:1,username:"test",password:"test",firstName:"Test",lastName:"User"}],t=window.fetch;window.fetch=function(n,a){return new Promise((function(r,s){setTimeout((function(){if(n.endsWith("/users/authenticate")&&"POST"===a.method){var i=JSON.parse(a.body),o=e.filter((function(e){return e.username===i.username&&e.password===i.password}));if(o.length){var c=o[0],d={id:c.id,username:c.username,firstName:c.firstName,lastName:c.lastName};r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(d))}})}else s("Username or password is incorrect")}else n.endsWith("/users")&&"GET"===a.method?a.headers&&a.headers.Authorization==="Basic ".concat(window.btoa("test:test"))?r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(e))}}):r({status:401,text:function(){return Promise.resolve()}}):t(n,a).then((function(e){return r(e)}))}),500)}))}}(),h.a.render(Object(x.jsx)(X,{}),document.getElementById("app"))}},[[46,1,2]]]);
//# sourceMappingURL=main.c77190c8.chunk.js.map